!function(y){var k=!0,x=1,n="",b=0;var t=function(e,a){var t,o,i,n,p,s,d,r=e.find(".pp-posts-container"),l=e.find(".pp-posts"),f=e.find(".pp-posts").data("layout"),c=e.find(".pp-post-filters-container").data("search-form"),u=e.find(".pp-search-form-input"),h=e.find(".pp-post-filters-container").data("search-action"),m=e.find(".pp-posts-loader"),g=e.find(".pp-post-filters"),w=e.find(".pp-post-filters-dropdown"),_=e.find(".pp-coupons");function v(){var t=elementorFrontend.config.breakpoints,p=0,o="auto";e.find(".pp-post-wrap").each(function(){a(this).find(".pp-post-content").outerHeight()>p&&(p=a(this).find(".pp-post-content").outerHeight())}),a(window).width()>=t.md&&(o=p),e.find(".pp-post-wrap").css("height",o)}"masonry"==f&&e.imagesLoaded(function(t){l.isotope({layoutMode:f,itemSelector:".pp-grid-item-wrap"})}),$(e,1),g.find(".pp-post-filter").off("click").on("click",function(){var t;a(this).siblings().removeClass("pp-filter-current"),a(this).addClass("pp-filter-current"),x=1,0<w.length&&(t=a(this).data("filter"),w.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),w.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),w.find(".pp-post-filters-dropdown-button").html(a(this).html())),0<_.length?C(e,a(this),"coupon"):C(e,a(this),"")}),w.find(".pp-post-filters-dropdown-button").on("click",function(){w.find(".pp-post-filters-dropdown-list").toggle()}),w.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){a(this).siblings().removeClass("pp-filter-current"),a(this).addClass("pp-filter-current"),w.find(".pp-post-filters-dropdown-list").hide(),w.find(".pp-post-filters-dropdown-button").html(a(this).html()),x=1;var t=a(this).data("filter");g.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),g.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),0<_.length?C(e,a(this),"coupon"):C(e,a(this),"")}),(0<g.length||0<w.length)&&(""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<w.length&&w.find('li[data-filter=".'+t+'"]').trigger("click")),a(window).on("hashchange",function(){var t;""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<w.length&&w.find('li[data-filter=".'+t+'"]').trigger("click"))})),"show"==c&&(u.on({focus:function(){e.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){e.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==h?e.find(".pp-search-form-input").keyup((o=function(){j(e,a(this))},i=i||100,function(){clearTimeout(n);var t=arguments,p=this;n=setTimeout(function(){o.apply(p,t)},i)})):"button-click"==h&&e.find(".pp-search-form-submit").on("click",function(){j(e,a(this))})),r.find(".pp-posts").hasClass("pp-posts-skin-checkerboard")&&e.hasClass("pp-equal-height-yes")&&r.find(".pp-posts").hasClass("pp-posts-height-auto")&&(a(v),a(window).resize(v)),(r.hasClass("pp-posts-infinite-scroll")||_.hasClass("pp-coupons-infinite-scroll"))&&(p=jQuery(window).outerHeight()/1.25,a(window).scroll(function(){return elementorFrontend.isEditMode()?(m.show(),!1):void(_.hasClass("pp-coupons-infinite-scroll")?a(window).scrollTop()+p>=e.find(".pp-coupons-grid-wrapper:last").offset().top&&(t={page_id:e.find(".pp-coupons-grid-wrapper").data("page"),widget_id:e.data("id"),filter:e.find(".pp-filter-current").data("filter"),taxonomy:e.find(".pp-filter-current").data("taxonomy"),skin:e.find(".pp-coupons-grid-wrapper").data("skin"),page_number:e.find(".page-numbers.current").next("a").html(),ajax_for:"coupon"},b=e.find(".pp-posts-pagination").data("total"),1==k&&x<b&&(m.show(),F(e,t,!0),x++,k=!1)):a(window).scrollTop()+p>=e.find(".pp-post:last").offset().top&&(t={page_id:e.find(".pp-posts").data("page"),widget_id:e.data("id"),filter:e.find(".pp-filter-current").data("filter"),taxonomy:e.find(".pp-filter-current").data("taxonomy"),skin:e.find(".pp-posts").data("skin"),page_number:e.find(".pp-posts-pagination .current").next("a").html(),ajax_for:""},b=e.find(".pp-posts-pagination").data("total"),1==k&&x<b&&(m.show(),F(e,t,!0),x++,k=!1)));var t})),"carousel"==f&&(s=e.find(".pp-posts-carousel").eq(0),d=JSON.parse(s.attr("data-slider-settings")),0<s.length&&e.imagesLoaded(function(){s.slick(d)}),a(s).on("setPosition",function(){var t,p;"yes"==(p=(t=e).find(".pp-posts-carousel")).data("equal-height")&&(p.find(".slick-slide").height("auto"),t=p.find(".slick-track"),t=y(t).height(),p.find(".slick-slide").css("height",t+"px"))}))};function s(t){return t.find(".pp-post-load-more").data("count")}function $(t,p){t.find(".pp-post-load-more").attr("data-count",p)}y(document).on("click",".pp-post-load-more",function(t){$scope=y(this).closest(".elementor-widget-pp-posts"),n=$scope.find(".pp-posts-loader");var p,o,e,a,i=y(this).closest(".elementor-widget-pp-coupons");if(coupon_loader=i.find(".pp-posts-loader"),t.preventDefault(),elementorFrontend.isEditMode())return n.show(),coupon_loader.show(),!1;0<i.length?(p=s(i),o=i.find(".pp-filter-current").data("filter"),e=i.find(".pp-filter-current").data("taxonomy"),a={page_id:i.find(".pp-coupons-grid-wrapper").data("page"),widget_id:i.data("id"),filter:o||"",taxonomy:e||"",page_number:p+1,ajax_for:"coupon"},b=i.find(".pp-posts-pagination").data("total"),1==k&&p<b&&(coupon_loader.show(),y(this).hide(),F(i,a,!0,p),p++,k=!1)):(p=s($scope),o=$scope.find(".pp-filter-current").data("filter"),e=$scope.find(".pp-filter-current").data("taxonomy"),a={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:o||"",taxonomy:e||"",skin:$scope.find(".pp-posts").data("skin"),page_number:p+1,ajax_for:""},b=$scope.find(".pp-posts-pagination").data("total"),1==k&&p<b&&(n.show(),y(this).hide(),F($scope,a,!0,p),p++,k=!1))}),y("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(t){$scope=y(this).closest(".elementor-widget-pp-posts");var p,o,e,a=y(this).closest(".elementor-widget-pp-coupons");"main"!=$scope.find(".pp-posts").data("query-type")&&(t.preventDefault(),0<a.length?(a.find(".pp-coupons-grid-wrapper .pp-coupon").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,o=parseInt(a.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?o+1:y(this).hasClass("prev")?o-1:y(this).html(),e={page_id:a.find(".pp-coupons-grid-wrapper").data("page"),widget_id:a.data("id"),filter:a.find(".pp-filter-current").data("filter"),taxonomy:a.find(".pp-filter-current").data("taxonomy"),page_number:p,ajax_for:"coupon"},y("html, body").animate({scrollTop:a.find(".pp-coupons-wrap").offset().top-30},"slow"),F(a,e)):($scope.find(".pp-posts .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,o=parseInt($scope.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?o+1:y(this).hasClass("prev")?o-1:y(this).html(),e={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".pp-filter-current").data("filter"),taxonomy:$scope.find(".pp-filter-current").data("taxonomy"),skin:$scope.find(".pp-posts").data("skin"),page_number:p,ajax_for:""},y("html, body").animate({scrollTop:$scope.find(".pp-posts-container").offset().top-30},"slow"),F($scope,e)))});var C=function(t,p,o){p="coupon"===o?(t.find(".pp-coupons-grid-wrapper .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-coupons-grid-wrapper").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),page_number:1,ajax_for:"coupon"}):(t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),skin:t.find(".pp-posts").data("skin"),page_number:1,ajax_for:""}),F(t,p)},j=function(t,p){t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var o={page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),search:t.find(".pp-search-form-input").val(),page_number:1};F(t,o)},F=function(n,s,d,r){var l=n.find(".pp-posts-loader");y.ajax({url:pp_posts_script.ajax_url,data:{action:"pp_get_post",page_id:s.page_id,widget_id:s.widget_id,category:s.filter,search:s.search,taxonomy:s.taxonomy,skin:s.skin,page_number:s.page_number,ajax_for:s.ajax_for,nonce:pp_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(t){var p,o,e,a,i;k=("coupon"===s.ajax_for?(p=n.find(".pp-coupons-grid-wrapper"),(o=n.find(".pp-posts-empty")).remove(),0==y(o).length&&y(t.data.not_found).insertBefore(p),1==d?(e=t.data.html,p.append(e)):p.html(t.data.html),n.find(".pp-posts-pagination-wrap").html(t.data.pagination)):(p=n.find(".pp-posts"),(o=n.find(".pp-posts-empty")).remove(),0==y(o).length&&y(t.data.not_found).insertBefore(p),1==d?(e=t.data.html,p.append(e)):p.html(t.data.html),n.find(".pp-posts-pagination-wrap").html(t.data.pagination),a=n.find(".pp-posts").data("layout"),i=n.find(".pp-posts"),"masonry"==a&&n.imagesLoaded(function(){i.isotope("destroy"),i.isotope({layoutMode:a,itemSelector:".pp-grid-item-wrap"})})),!0),1==d&&(l.hide(),n.find(".pp-post-load-more").show()),$(n,s.page_number),(r+=1)==b&&n.find(".pp-post-load-more").hide(),n.trigger("posts.rendered")}})};y(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.classic",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.card",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.checkerboard",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.creative",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.event",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.news",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.portfolio",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.overlap",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.template",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-coupons.default",t)})}(jQuery);